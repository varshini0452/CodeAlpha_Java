import java.util.ArrayList;
import java.util.Scanner;
class Room{
    int roomNumber;
    String type;
    double price;
    boolean booked;
    Room(int roomNumber,String type,double price){
        this.roomNumber=roomNumber;
        this.type=type;
        this.price=price;
        this.booked=false;
    }
}
class Reservation{
    String guestName;
    Room room;
    Reservation(String guestName,Room room){
        this.guestName=guestName;
        this.room=room;
    }
}
public class HotelReservationSystem{
    static ArrayList<Room> rooms=new ArrayList<>();
    static ArrayList<Reservation> reservations=new ArrayList<>();
    public static void main(String[] args){
        Scanner sc=new Scanner(System.in);
        initializeRooms();
        while(true){
            System.out.println("   HOTEL RESERVATION SYSTEM");
            System.out.println("1. View Available Rooms");
            System.out.println("2. Book Room");
            System.out.println("3. Cancel Reservation");
            System.out.println("4. View Reservations");
            System.out.println("5. Exit");
            System.out.print("Choose option: ");
            int choice=sc.nextInt();
            sc.nextLine();
            if(choice==1)
                viewAvailableRooms();
            else if(choice==2)
                bookRoom(sc);
            else if(choice==3)
                cancelReservation(sc);
            else if(choice==4)
                viewReservations();
            else if(choice==5){
                System.out.println("Thank you ");
                break;
            }
            else
                System.out.println("Invalid option");
        }
        sc.close();
    }
    static void initializeRooms(){
        rooms.add(new Room(101,"Standard",1500));
        rooms.add(new Room(102,"Standard",1500));
        rooms.add(new Room(201,"Deluxe",2500));
        rooms.add(new Room(202,"Deluxe",2500));
        rooms.add(new Room(301,"Suite",4000));
    }
    static void viewAvailableRooms(){
        System.out.println("\nAvailable Rooms:");
        boolean found=false;
        for(Room r:rooms){
            if(!r.booked){
                System.out.println("Room "+r.roomNumber+
                        " - "+r.type+
                        " - Price: "+r.price);
                found=true;
            }
        }
        if(!found){
            System.out.println("No rooms available");
        }
    }
    static void bookRoom(Scanner sc){
        viewAvailableRooms();
        System.out.print("Enter room number: ");
        int roomNo=sc.nextInt();
        sc.nextLine();
        for(Room r:rooms){
            if(r.roomNumber==roomNo && !r.booked){
                System.out.print("Enter guest name: ");
                String name=sc.nextLine();
                r.booked=true;
                reservations.add(new Reservation(name,r));
                System.out.println("Room booked successfully");
                return;
            }
        }
        System.out.println("Room not available");
    }
    static void cancelReservation(Scanner sc){
        if(reservations.isEmpty()){
            System.out.println("No reservations found");
            return;
        }
        viewReservations();
        System.out.print("Enter room number to cancel: ");
        int roomNo=sc.nextInt();
        for(int i=0;i<reservations.size();i++){
            Reservation res=reservations.get(i);
            if(res.room.roomNumber==roomNo){
                res.room.booked=false;
                reservations.remove(i);
                System.out.println("Reservation cancelled");
                return;
            }
        }
        System.out.println("Reservation not found");
    }
    static void viewReservations(){
        if(reservations.isEmpty()){
            System.out.println("No reservations");
            return;
        }
        System.out.println("\nCurrent Reservations:");
        for(Reservation r:reservations){
            System.out.println("Guest: "+r.guestName+
                    " ; Room: "+r.room.roomNumber+
                    " ; "+r.room.type);
        }
    }
}
